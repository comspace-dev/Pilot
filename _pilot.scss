// v2.0.1

// constants needed for calculations.
$base-font-size-px: 16 !default;
$base-spacing-px: 24 !default;
$base-font-size: $base-font-size-px / 16;
$base-spacing: $base-spacing-px / 16;

// strips away the unit if zero
@function _stripZero($value) {

	@if $value == "0px" or $value == "0rem" {

		@return 0;
	}

	@else {

		@return $value;
	}
}

/*
index

* margin
* margin-top
* margin-right
* margin-bottom
* margin-left

* padding
* padding-top
* padding-right
* padding-bottom
* padding-left

* border-radius
* border-top-right-radius
* border-bottom-right-radius
* border-bottom-left-radius
* border-top-left-radius

* height
* min-height
* max-height

* width
* min-width
* max-width

* top
* right
* bottom
* left

* border
* border-top
* border-right
* border-bottom
* border-left

* leading
* leading--half
* leading--quarter

* adjust-font-size
* font-size
* line-height

* letter-spacing

* text-indent

* box-shadow

* text-shadow

*/

// one mixin to rule them all
@mixin _shorthand($property, $value1, $value2: false, $value3: false, $value4: false) {

	@if $value4 and ($value1 != 0 or $value2 != 0 or $value3 != 0 or $value4 != 0) {

		#{$property}: _stripZero($value1 + px) _stripZero($value2 + px) _stripZero($value3 + px) _stripZero($value4 + px);
		#{$property}: _stripZero($value1 / 16 + rem) _stripZero($value2 / 16 + rem) _stripZero($value3 / 16 + rem) _stripZero($value4 / 16 + rem);
	}

	@else if $value3 and ($value1 != 0 or $value2 != 0 or $value3 != 0) {

		#{$property}: _stripZero($value1 + px) _stripZero($value2 + px) _stripZero($value3 + px);
		#{$property}: _stripZero($value1 / 16 + rem) _stripZero($value2 / 16 + rem) _stripZero($value3 / 16 + rem);
	}

	@else if $value2 and ($value1 != 0 or $value2 != 0) {

		#{$property}: _stripZero($value1 + px) _stripZero($value2 + px);
		#{$property}: _stripZero($value1 / 16 + rem) _stripZero($value2 / 16 + rem);
	}

	@else if $value1 and $value1 != 0 {

		#{$property}: _stripZero($value1 + px);
		#{$property}: _stripZero($value1 / 16 + rem);
	}
}

// all the mixins
@mixin margin($value1, $value2: false, $value3: false, $value4: false) {

	@include _shorthand(margin, $value1, $value2, $value3, $value4);
}

@mixin margin-top($value) {

	@include _shorthand(margin-top, $value);
}

@mixin margin-right($value) {

	@include _shorthand(margin-right, $value);
}

@mixin margin-bottom($value) {

	@include _shorthand(margin-bottom, $value);
}

@mixin margin-left($value) {

	@include _shorthand(margin-left, $value);
}

@mixin padding($value1, $value2: false, $value3: false, $value4: false) {

	@include _shorthand(padding, $value1, $value2, $value3, $value4);
}

@mixin padding-top($value) {

	@include _shorthand(padding-top, $value);
}

@mixin padding-right($value) {

	@include _shorthand(padding-right, $value);
}

@mixin padding-bottom($value) {

	@include _shorthand(padding-bottom, $value);
}

@mixin padding-left($value) {

	@include _shorthand(padding-left, $value);
}

@mixin border-radius($value1, $value2: false, $value3: false, $value4: false) {

	@include _shorthand(border-radius, $value1, $value2, $value3, $value4);
}

@mixin border-top-right-radius($value) {

	@include _shorthand(border-top-right-radius, $value);
}

@mixin border-bottom-right-radius($value) {

	@include _shorthand(border-bottom-right-radius, $value);
}

@mixin border-bottom-left-radius($value) {

	@include _shorthand(border-bottom-left-radius, $value);
}

@mixin border-top-left-radius($value) {

	@include _shorthand(border-top-left-radius, $value);
}

@mixin height($value) {

	@include _shorthand(height, $value);
}

@mixin min-height($value) {

	@include _shorthand(min-height, $value);
}

@mixin max-height($value) {

	@include _shorthand(max-height, $value);
}

@mixin width($value) {

	@include _shorthand(width, $value);
}

@mixin min-width($value) {

	@include _shorthand(min-width, $value);
}

@mixin max-width($value) {

	@include _shorthand(max-width, $value);
}

@mixin top($value) {

	@include _shorthand(top, $value);
}

@mixin right($value) {

	@include _shorthand(right, $value);
}

@mixin bottom($value) {

	@include _shorthand(bottom, $value);
}

@mixin left($value) {

	@include _shorthand(left, $value);
}

@mixin _border($value, $style: solid, $color: inherit, $side: "") {

	@if $color != "inherit" {

		border#{$side}: _stripZero($value + px) $style $color;
		border#{$side}: _stripZero($value / 16 + rem) $style $color;
	}

	@else {

		border#{$side}-width: _stripZero($value + px);
		border#{$side}-width: _stripZero($value / 16 + rem);
		border#{$side}-style: $style;
		border#{$side}-color: $color;
	}
}

@mixin border($value, $style: solid, $color: "") {

	// @if $color != "inherit" {

		border: _stripZero($value + px) $style $color;
		border: _stripZero($value / 16 + rem) $style $color;
	// }

	// @else {

	// 	border-width: _stripZero($value + px);
	// 	border-width: _stripZero($value / 16 + rem);
	// 	border-style: $style;
	// 	border-color: $color;
	// }
}

@mixin border-top($value, $style: solid, $color: inherit) {

	@include _border($value, $style, $color, "-top");
}

@mixin border-right($value, $style: solid, $color: inherit) {

	@include _border($value, $style, $color, "-right");
}

@mixin border-bottom($value, $style: solid, $color: inherit) {

	@include _border($value, $style, $color, "-bottom");
}

@mixin border-left($value, $style: solid, $color: inherit) {

	@include _border($value, $style, $color, "-left");
}

@mixin leading() {

	@include margin-top($base-spacing-px);
}

@mixin leading--half() {

	@include margin-top($base-spacing-px / 2);
}

@mixin leading--quarter() {

	@include margin-top($base-spacing-px / 4);
}

@mixin adjust-font-size($size: $base-font-size-px, $height: 1) {

	font-size: _stripZero($size + px);
	font-size: _stripZero($size / 16 + rem);
	line-height: ceil($base-spacing * $height / $size * 16 * 100000) / 100000;
}

@mixin font-size($value) {

	@include _shorthand(font-size, $value);
}

@mixin line-height($value) {

	@include _shorthand(line-height, $value);
}

@mixin letter-spacing($value) {

	@include _shorthand(letter-spacing, $value);
}

@mixin text-indent($value) {

	@include _shorthand(text-indent, $value);
}

@mixin box-shadow($h-off: 2, $v-off: 2, $blur: 4, $spread: 0, $color: rgba(0,0,0,0.5), $inset: false) {

	@if $inset {

		box-shadow: _stripZero($h-off + px) _stripZero($v-off + px) _stripZero($blur + px) _stripZero($spread + px) $color inset;
		box-shadow: _stripZero($h-off / 16 + rem) _stripZero($v-off / 16 + rem) _stripZero($blur / 16 + rem) _stripZero($spread / 16 + rem) $color inset;
	}

	@else {

		box-shadow: _stripZero($h-off + px) _stripZero($v-off + px) _stripZero($blur + px) _stripZero($spread + px) $color;
		box-shadow: _stripZero($h-off / 16 + rem) _stripZero($v-off / 16 + rem) _stripZero($blur / 16 + rem) _stripZero($spread / 16 + rem) $color;
	}
}

@mixin text-shadow($h-off: 1, $v-off: 1, $blur: 2, $color: rgba(0,0,0,0.5)) {

	text-shadow: _stripZero($h-off + px) _stripZero($v-off + px) _stripZero($blur + px) $color;
	text-shadow: _stripZero($h-off / 16 + rem) _stripZero($v-off / 16 + rem) _stripZero($blur / 16 + rem) $color;
}
